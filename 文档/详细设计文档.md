软 件 工 程 导 论

**实**

**验**

**报**

**告**

**题目： 课程管理系统**

**学 院**

**年 级**

**组 员**

**年 月 日**

[1.引言 1](#_Toc115985307)

[1.1编写目的（必填） 1](#_Toc115985308)

[1.2项目背景 1](#_Toc115985309)

[1.3术语说明 1](#_Toc115985310)

[1.4参考资料 1](#_Toc115985311)

[2.软件结构 2](#_Toc115985312)

[2.1需求概述 2](#_Toc115985313)

[2.2软件结构（必填） 2](#_Toc115985314)

[3.程序设计说明 2](#_Toc115985315)

[3.1模块描述 2](#_Toc115985316)

[3.2功能（必填） 2](#_Toc115985317)

[3.3性能 3](#_Toc115985318)

[3.4输入项 3](#_Toc115985319)

[3.5输出项 3](#_Toc115985320)

[3.6算法 3](#_Toc115985321)

[3.7程序逻辑（必填） 3](#_Toc115985322)

[3.8接口 4](#_Toc115985323)

[3.9存储分配 4](#_Toc115985324)

[3.10注释设计 4](#_Toc115985325)

[3.11限制条件 4](#_Toc115985326)

[3.12测试要点 4](#_Toc115985327)

[3.13尚未解决的问题 4](#_Toc115985328)

**详细设计说明书**

详细设计 (又可称程序设计)说明书编制的目的是说明一个软件系统各个层次中的每个程序(每个模块或子程序)的设计考虑，为程序员编写程序提供依据。

详细设计说明书的重点是描述模块的执行流程。

## 1\. 引言

### 1.1 编写目的（必填）

本文档基于项目开发计划、需求规格说明书及概要设计说明书编制，旨在细化系统各模块的执行流程、接口实现、数据交互逻辑等核心设计细节，为开发人员提供精准的编码依据，为测试人员提供明确的单元测试标准，确保开发过程规范高效，最终交付符合需求的课程管理系统。

本文档的读者对象包括项目开发组、测试组成员、文档组及项目负责人。

### 1.2 项目背景

待开发软件名称为课程管理系统（CMS-2025，版本号 V1.0），旨在解决高校传统人工课程管理效率低、易出错、信息同步不及时的问题。

项目委托单位为学校教务管理部门，开发单位为 2024 级软件学院课程管理系统项目组（组员：严翊航、许祖嘉、张嘉欢、庞佳泽），主管部门为软件学院；系统服务于学生、教师、管理员三类用户，可与学校统一身份认证系统、学生信息管理系统等对接。

### 1.3 术语说明

|     |     |     |
| --- | --- | --- |
| 术语  | 定义  | 英文缩写词原文 |
| CMS | 课程管理系统，支持学生选课、教师成绩录入、管理员课程安排等核心功能 | Course Management System |
| 选课冲突 | 学生所选多门课程的上课时间重叠，导致无法同时参与的情况 | Course Selection Conflict |
| 学分上限 | 高校规定的学生每学期可选择课程的最高学分总额 | Credit Ceiling |
| RESTful API | 规范系统内部及与外部系统数据交互的软件架构风格 | Representational State Transfer Application Programming Interface |
| IPO 图 | 用于描述模块输入、处理逻辑和输出关系的图表 | Input-Process-Output Diagram |
| RBAC | 基于角色的权限控制模型，通过角色分配权限实现灵活管理 | Role-Based Access Control |
| Token | 用户登录成功后生成的身份认证令牌，用于接口访问权限验证 | 无   |

### 1.4 参考资料

|     |     |     |     |     |
| --- | --- | --- | --- | --- |
| 资料名称 | 作者 / 来源 | 版本号 | 发表日期 | 出版单位 / 资料来源 |
| 《课程管理系统项目开发计划》 | 项目组 | V1.0 | 2025 年 11 月 14 日 | 项目组 |
| 《课程管理系统需求规格说明书》 | 项目组 | V2.0 | 2025 年 11 月 21 日 | 项目组 |
| 《课程管理系统概要设计说明书》 | 项目组 | V1.0 | 2025 年 11 月 | 项目组 |
| 《软件工程导论实验指导书》 | 软件学院 | V1.0 | 2025 年 9 月 1 日 | 软件学院 |
| 《MySQL 8.0 官方技术文档》 | Oracle 公司 | 8.0 | 2024 年 3 月 | Oracle 公司 |
| 《Tomcat 9.0 部署指南》 | Apache 软件基金会 | 9.0 | 2023 年 10 月 | Apache 软件基金会 |

## 2\. 软件结构

### 2.1 需求概述

系统核心功能涵盖四大模块：用户管理（角色认证、信息维护、权限控制）、课程信息管理（课程 CRUD、查询筛选、信息同步）、选课与退课管理（限时操作、冲突检测、学分控制、特殊申请处理）、成绩管理（成绩录入 / 修改、查询、异议处理、统计归档）；需满足并发处理、数据安全、可移植性、可扩展性要求，适配多浏览器与多分辨率终端。

### 2.2 软件结构（必填）

系统采用 “前后端分离” 架构，后端遵循 “控制层（Controller）- 服务层（Service）- 数据访问层（DAO）” 三层设计，前端按 “组件 - 页面 - 路由” 分层，整体模块划分及层次关系如下：

课程管理系统（CMS-2025 V1.0）

├── 前端层

│ ├── 用户模块（UserModule）

│ │ ├── 登录子模块（LoginSubModule）

│ │ ├── 个人信息子模块（ProfileSubModule）

│ │ └── 权限验证子模块（AuthSubModule）

│ ├── 课程模块（CourseModule）

│ │ ├── 课程查询子模块（CourseQuerySubModule）

│ │ └── 课程信息维护子模块（CourseMaintainSubModule）

│ ├── 选课模块（CourseSelectionModule）

│ │ ├── 选课操作子模块（SelectionOperateSubModule）

│ │ ├── 退课操作子模块（WithdrawalOperateSubModule）

│ │ ├── 特殊申请子模块（SpecialApplySubModule）

│ │ └── 校验子模块（ValidationSubModule）

│ ├── 成绩模块（ScoreModule）

│ │ ├── 成绩录入子模块（ScoreInputSubModule）

│ │ ├── 成绩查询子模块（ScoreQuerySubModule）

│ │ └── 成绩统计子模块（ScoreStatSubModule）

│ └── 系统配置模块（SystemConfigModule）

│ ├── 参数设置子模块（ParamSetSubModule）

│ └── 日志管理子模块（LogManageSubModule）

├── 后端服务层

│ ├── 用户服务（UserService）

│ ├── 课程服务（CourseService）

│ ├── 选课服务（CourseSelectionService）

│ ├── 成绩服务（ScoreService）

│ └── 系统服务（SystemService）

├── 数据持久层

│ ├── 用户数据访问（UserDAO）

│ ├── 课程数据访问（CourseDAO）

│ ├── 选课数据访问（CourseSelectionDAO）

│ ├── 成绩数据访问（ScoreDAO）

│ ├── 特殊申请数据访问（SpecialApplyDAO）

│ └── 日志数据访问（LogDAO）

└── 公共组件层

├── 身份认证组件（AuthComponent）

├── 数据校验组件（ValidationComponent）

├── 日志记录组件（LogComponent）

└── 文件处理组件（FileComponent）

## 3\. 程序设计说明

### 3.1 模块描述

将概要设计的功能模块细化为可编程子模块，各子模块具体结构如下：

- **用户模块**：拆分登录、个人信息管理、权限验证子模块，分别负责身份校验、信息查询修改、操作权限控制，对应严翊航负责的用户管理模块开发工作。
- **课程模块**：拆分课程查询、课程信息维护子模块，处理课程检索、增删改及信息反馈功能，匹配庞佳泽负责的课程管理模块开发任务。
- **选课模块**：拆分选课操作、退课操作、特殊申请、校验子模块，校验子模块包含时间、冲突、学分、容量四类校验逻辑，由张嘉欢负责选课系统模块开发。
- **成绩模块**：拆分成绩录入、查询、统计、异议子模块，实现成绩录入修改、检索、数据分析及异议处理，对应许祖嘉负责的成绩管理模块开发。
- **系统配置模块**：拆分参数设置、日志管理子模块，负责系统参数配置与操作日志管理，由项目组协同开发。
- **公共组件层**：提供认证、校验、日志、文件处理等通用功能，为各业务模块提供支撑。

### 3.2 功能（必填）

采用 IPO 图形式描述各核心子模块功能：

#### 3.2.1 选课校验子模块（ValidationSubModule）

|     |     |     |
| --- | --- | --- |
| 输入项 | 处理逻辑 | 输出项 |
| 选课请求（学号、课程号）、当前时间、已选课程列表、学分上限、课程容量 | 1\. 校验当前是否在选课时间内；2. 校验课程是否存在且有余量；3. 校验选课是否存在时间冲突；4. 校验学分是否超上限 | 校验结果（成功 / 失败）、失败原因提示 |

#### 3.2.2 成绩录入子模块（ScoreInputSubModule）

|     |     |     |
| --- | --- | --- |
| 输入项 | 处理逻辑 | 输出项 |
| 课程号、学生学号、成绩（0-100 分）、录入方式（手动 / 批量导入） | 1\. 校验用户是否为课程授课教师；2. 校验成绩格式是否合法；3. 手动录入时实时保存，批量导入时校验数据格式并批量存储；4. 记录成绩录入日志 | 录入结果（成功 / 失败）、失败数据列表（批量导入时） |

#### 3.2.3 特殊申请子模块（SpecialApplySubModule）

|     |     |     |
| --- | --- | --- |
| 输入项 | 处理逻辑 | 输出项 |
| 申请信息（学号、课程号、申请类型、理由、附件）、审核人 ID | 1\. 学生提交申请并上传附件；2. 管理员查看申请列表及附件；3. 管理员审核并填写意见；4. 系统发送审核结果通知 | 申请提交成功提示、审核结果（通过 / 驳回）、审核意见 |

### 3.3 性能

#### 3.3.1 精度要求

- 成绩数据保留 1 位小数，统计数据（平均分、及格率）保留 2 位小数，无计算误差。
- 时间校验精确到分钟，选课冲突检测精确到课程节次，确保判断无误。

#### 3.3.2 灵活性要求

- 支持 Chrome、Firefox、Edge、Safari 等主流浏览器，不同浏览器中功能无差异。
- 适配 1366×768 及以上分辨率，更高分辨率下界面自适应调整，核心内容无需拖动查看。
- 可适配 200-500人规模高校使用，用户规模扩大时仅需调整服务器配置，无需修改核心代码。

#### 3.3.3 时间特性要求

- 选课校验子模块单请求处理时间≤1 秒，选课高峰期 200 人并发处理成功率≥99.9%。
- 成绩批量导入子模块处理 500 条数据时间≤10 秒，多教师同时导入时服务器 CPU 使用率≤80%。
- 简单操作（登录、课程查询）响应时间≤2 秒，复杂操作（多条件成绩筛选）响应时间≤5 秒。

### 3.4 输入项

#### 3.4.1 选课请求输入项

|     |     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 名称  | 标识  | 数据类型 | 格式  | 有效范围 | 输入方式 | 频度  | 输入媒体 | 来源  | 安全条件 |
| 学号  | studentId | 字符型 | 10 位数字 + 字母组合 | 如 “2024001” | 手动输入 / 系统自动获取 | 选课期内按需输入 | PC / 移动终端 | 学生  | 仅本人可提交本人学号请求 |
| 课程号 | courseId | 字符型 | 8 位（前 2 位学科代码 + 后 6 位年份 + 序号） | 如 “CS202501” | 手动输入 / 列表选择 | 选课期内按需输入 | PC / 移动终端 | 学生  | 无特殊限制 |
| 选课时间 | selectTime | 日期时间型 | YYYY-MM-DD HH:MM:SS | 管理员预设选课周期内 | 系统自动获取 | 每次选课自动触发 | 系统内部 | 系统时钟 | 无   |

#### 3.4.2 成绩录入输入项

|     |     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 名称  | 标识  | 数据类型 | 格式  | 有效范围 | 输入方式 | 频度  | 输入媒体 | 来源  | 安全条件 |
| 成绩  | score | 数值型 | 整数或 1 位小数 | 0-100 | 手动输入 / Excel 导入 | 成绩录入期内多次 | PC 终端 | 教师  | 仅授课教师可录入对应课程成绩 |
| 课程号 | courseId | 字符型 | 8 位 | 如 “CS202501” | 下拉选择 | 每次录入必选 | PC 终端 | 教师  | 无   |
| 学号  | studentId | 字符型 | 10 位 | 如 “2024001” | Excel 导入 / 系统自动加载 | 批量导入 / 系统列表加载 | PC 终端 | 系统数据库 / 教师 | 无   |

### 3.5 输出项

#### 3.5.1 选课结果输出项

|     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 名称  | 标识  | 数据类型 | 格式  | 有效范围 | 输出形式 | 频度  | 输出媒体 | 安全条件 |
| 选课结果 | selectResult | 字符型 | 文本描述 | 成功 / 失败 | 弹窗提示 | 每次选课请求后 | PC / 移动终端 | 仅提交者可见 |
| 失败原因 | failReason | 字符型 | 文本描述 | 如 “选课冲突”“学分超上限” | 弹窗提示 | 选课失败时 | PC / 移动终端 | 仅提交者可见 |
| 课程列表 | courseList | 列表型 | 含课程号、名称、学分等字段 | 符合查询条件的课程 | 页面展示 | 查询请求后 | PC / 移动终端 | 按权限展示对应数据 |

#### 3.5.2 成绩录入结果输出项

|     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 名称  | 标识  | 数据类型 | 格式  | 有效范围 | 输出形式 | 频度  | 输出媒体 | 安全条件 |
| 录入结果 | inputResult | 字符型 | 文本描述 | 成功 / 部分成功 / 失败 | 页面提示 | 录入操作后 | PC 终端 | 仅录入者可见 |
| 失败数据列表 | failDataList | 列表型 | 含学号、错误原因字段 | 导入失败的数据 | 页面表格展示 | 批量导入失败时 | PC 终端 | 仅录入者可见 |
| 成绩日志 | scoreLog | 文本型 | 含操作人、时间、原成绩、新成绩 | 符合日志规范的记录 | 系统存储 | 成绩修改后 | 数据库 | 仅管理员可查看 |

### 3.6 算法

#### 3.6.1 选课冲突检测算法

1.  从数据库获取学生已选课程的上课时间列表（格式：星期 X 节次范围，如 “周一 1-2 节”）。
2.  解析待选课程上课时间为 “星期标识”（1-7 对应周一至周日）和 “节次区间”（如 1-2 节解析为 \[1,2\]）。
3.  遍历已选课程时间，对比星期标识是否一致，若一致则判断节次区间是否存在交集。
4.  交集判断逻辑：设已选课程节次区间为 \[a1,a2\]，待选课程为 \[b1,b2\]，若 b1≤a2 且 b2≥a1，则判定为冲突。

#### 3.6.2 学分累计计算算法

1.  查询学生当前学期已选课程的学分列表，计算总和 S1。
2.  获取待选课程学分 S2，计算 S1+S2。
3.  对比 S1+S2 与管理员设置的学分上限 Smax：
    - 若 S1+S2≤Smax，返回 “未超上限”。
    - 若 S1+S2>Smax，返回 “超出上限（S1+S2-Smax）分”。

#### 3.6.3 成绩统计算法

1.  平均分：avg = 所有学生成绩总和 / 学生人数（保留 2 位小数）。
2.  及格率：passRate = 及格人数（成绩≥60 分） / 总人数 × 100%（保留 1 位小数）。
3.  分数段分布：统计优秀（90-100 分）、良好（80-89 分）等各分数段人数及占比，占比 = 该段人数 / 总人数 ×100%。

### 3.7 程序逻辑（必填）

#### 3.7.1 选课校验程序流程图

#### 3.7.2 成绩录入程序流程图

### 3.8 接口

#### 3.8.1 模块接口关系

- 选课操作子模块依赖选课校验子模块，通过传递 “选课请求数据” 调用校验接口，接收校验结果。
- 成绩录入子模块依赖成绩服务，通过 “成绩数据 DTO” 传递数据，服务层调用成绩数据访问组件与数据库交互。
- 前端模块与后端服务通过 RESTful API 通信，接口 URL 包含版本号（如/api/v1/user/login），采用 JSON 格式传递数据。

#### 3.8.2 核心 API 接口定义

|     |     |     |     |     |
| --- | --- | --- | --- | --- |
| 接口名称 | 请求方式 | 参数  | 返回值 | 说明  |
| 选课校验接口 | POST | studentId（学号）、courseId（课程号） | {success: boolean, msg: string} | 校验选课合法性 |
| 成绩录入接口 | POST | courseId（课程号）、scoreData（{studentId: string, score: number}\[\]） | {success: boolean, failData: \[\]} | 提交成绩数据 |
| 特殊申请提交接口 | POST | applyData（学号、课程号、申请类型等） | {success: boolean, applyId: string} | 学生提交特殊退课 / 补选申请 |
| 特殊申请审核接口 | PUT | applyId（申请 ID）、auditStatus（审核状态）、opinion（意见） | {success: boolean, msg: string} | 管理员审核申请 |
| 课程查询接口 | GET | keyword（关键词）、type（课程类型）、dept（院系） | {total: number, list: Course\[\]} | 查询课程列表 |

#### 3.8.3 数据交互接口

以选课记录表为例，核心数据结构如下：

选课记录表（course_selection）

\- id: 主键（BIGINT）

\- student_id: 学号（VARCHAR(10)）

\- course_id: 课程号（VARCHAR(8)）

\- selection_time: 选课时间（DATETIME）

\- status: 状态（TINYINT，0-正常，1-退课）

### 3.9 存储分配

- 前端本地存储：用户基础信息，单用户存储容量≤50KB。
- 后端内存分配：并发高峰期内存占用≤4GB，其中缓存已选课程数据≤1GB，临时处理数据≤2GB。
- 数据库存储：核心数据表采用 InnoDB 引擎，建立学号、课程号、选课时间等索引；单表数据量≤10 万条时，查询响应时间≤1 秒。

### 3.10 注释设计

#### 3.10.1 模块首部注释

/\*\*

\* 选课校验子模块（ValidationSubModule）

\* 功能：校验选课请求合法性，含时间、课程余量、冲突、学分校验

\* 输入：学号、课程号、选课时间、学分上限等系统参数

\* 输出：校验结果及失败原因

\* 作者：张嘉欢

\* 日期：2025年12月

\*/

#### 3.10.2 分支点注释

在程序逻辑分支处添加注释，说明分支条件及目的：

// 校验选课时间是否在管理员预设周期内

if (currentTime &lt; selectStartTime || currentTime &gt; selectEndTime) {

return new Result(false, "不在选课时间，选课开放时间为" + selectStartTime + "-" + selectEndTime);

}

#### 3.10.3 变量注释

对核心变量添加注释，说明功能、范围及缺省值：

/\*\*

\* 学分上限，管理员配置，默认25分

\*/

private int creditLimit = 25;

### 3.11 限制条件

- 选课模块仅在管理员预设周期内开放，周期外接口返回 “禁止访问”。
- 成绩录入模块仅允许课程授课教师调用，非授课教师调用返回 “无权限”。
- 批量导入成绩单次数据量≤1000 条，超出提示 “单次导入上限 1000 条，请分批次导入”。
- 数据库连接超时时间为 30 秒，超时未连接则返回 “系统暂时无法访问，请稍后重试”。
- 项目组成员需在各自负责模块的开发周期内完成编码，确保整体进度符合项目开发计划。

### 3.12 测试要点

#### 3.12.1 选课校验子模块测试要点

- 输入合法选课请求（在选课时间内、无冲突、学分未超），预期返回 “选课成功”。
- 输入选课时间外的请求，预期返回 “不在选课时间”。
- 输入存在时间冲突的请求，预期返回 “选课冲突”。
- 输入学分超上限的请求，预期返回 “学分超出上限”。

#### 3.12.2 成绩录入子模块测试要点

- 输入合法成绩（0-100 分），预期录入成功，数据库同步更新。
- 输入非法成绩（105 分、负数），预期返回 “格式错误”，数据库无更新。
- 非授课教师尝试录入成绩，预期返回 “无权限”。
- 批量导入含错误数据的 Excel，预期成功数据录入，失败数据列表展示。

#### 3.12.3 特殊申请子模块测试要点

- 学生提交完整申请信息及附件，预期申请提交成功，生成申请 ID。
- 管理员审核通过申请，预期学生收到通过通知，相关数据同步更新。
- 管理员驳回申请并填写意见，预期学生收到驳回通知及意见。

### 3.13 尚未解决的问题

- 跨学期选课功能暂未实现，需后续扩展跨学期课程信息同步与学分累计计算逻辑。
- 不同院系成绩等级自定义需求未满足，需优化数据结构，增加 “院系 - 成绩等级” 关联配置。
- 离线操作支持缺失，无网络环境下无法查看已选课程、录入成绩，需开发本地缓存与同步机制。
- 系统与第三方系统（如统一身份认证系统）的具体适配，需结合学校现有系统进一步调试。