软 件 工 程 导 论

**实**

**验**

**报**

**告**

**题目：**

**学 院**

**年 级**

**组 员**

**年 月 日**

[1.引言 1](#_Toc116049859)

[1.1编写目的（必填） 1](#_Toc116049860)

[1.2项目背景 1](#_Toc116049861)

[1.3定义 1](#_Toc116049862)

[1.4参考资料 1](#_Toc116049863)

[2.任务概述 2](#_Toc116049864)

[2.1目标 2](#_Toc116049865)

[2.2运行环境（必填） 2](#_Toc116049866)

[2.3开发环境（必填） 2](#_Toc116049867)

[2.4需求概述 2](#_Toc116049868)

[2.5限制描述 2](#_Toc116049869)

[3.总体设计 3](#_Toc116049870)

[3.1基本设计概念和处理流程 3](#_Toc116049871)

[3.2系统总体功能结构（必填） 3](#_Toc116049872)

[3.3功能需求描述（必填） 3](#_Toc116049873)

[3.4界面设计（必填） 3](#_Toc116049874)

[4.接口设计 3](#_Toc116049875)

[4.1外部接口 3](#_Toc116049876)

[4.2内部接口（必填） 3](#_Toc116049877)

[5.数据结构设计 4](#_Toc116049878)

[5.1逻辑结构设计 4](#_Toc116049879)

[5.2数据结构与程序的关系 4](#_Toc116049880)

[6.运行设计 4](#_Toc116049881)

[6.1运行模块的组合 4](#_Toc116049882)

[6.2运行控制 4](#_Toc116049883)

[6.3运行时间 4](#_Toc116049884)

[7.出错处理设计 4](#_Toc116049885)

[7.1出错输出信息 4](#_Toc116049886)

[7.2出错补救措施 5](#_Toc116049887)

[8.安全保密设计 5](#_Toc116049888)

[9.维护设计 5](#_Toc116049889)

**概要设计说明书**

概要设计说明书是概要设计阶段结束时提交的技术文档。

# 1.引言

## 1.1编写目的（必填）

•目的：明确课程管理系统的总体架构、模块划分、接口设计、数据结构等核心设计内容，为详细设计、编码开发、测试验证及系统维护提供统一的技术依据和指导框架。

•用途：作为连接需求规格与详细设计的桥梁，将用户需求转化为技术层面的系统架构方案，确保开发团队对系统设计达成共识，降低开发风险与沟通成本。

•所针对的读者对象：项目开发组（前端、后端开发人员）、测试组、文档组、项目负责人及学校教务管理部门技术对接人员。

## 1.2项目背景

•背景：随着高校信息化建设推进，传统人工课程管理模式存在效率低、易出错、信息同步不及时等问题，本课程管理系统旨在通过数字化手段解决上述痛点。概要设计覆盖系统整体架构、核心模块设计、接口规范、数据结构等核心技术内容，使用范围为高校教务管理场景，服务于学生、教师、管理员三类用户。

•项目的委托单位、开发单位和主管部门：委托单位为学校教务管理部门，开发单位为2024级软件学院课程管理系统项目组（组员：严翊航、许祖嘉、张嘉欢、庞佳泽），主管部门为软件学院。

•该软件系统与其他系统的关系：本系统可与学校统一身份认证系统（如CAS、LDAP）对接，实现用户统一登录；可与学生信息管理系统（SIS）同步学生基础信息，向教学质量评估系统导出课程及成绩数据，无直接依赖的其他核心业务系统。

## 1.3定义

|     |     |     |
| --- | --- | --- |
| 术语  | 定义  | 英文原文及缩写 |
| CMS | 课程管理系统，即本项目开发的核心软件产品，支持学生选课、教师成绩录入、管理员课程安排等功能 | Course Management System（CMS） |
| 选课冲突 | 学生所选多门课程的上课时间重叠，导致无法同时参与的情况 | Course Selection Conflict |
| 学分上限 | 高校规定的学生每学期可选择课程的最高学分总额，超出则无法选课 | Credit Ceiling |
| 用户角色 | 系统设定的三类核心使用对象，包括学生、教师、管理员，各自拥有不同操作权限 | User Role |
| RESTful API | 一种软件架构风格，用于规范系统内部模块间及与外部系统的数据交互接口 | Representational State Transfer API（RESTful API） |
| 数据字典 | 对系统中所有数据元素、数据流、数据存储等的规范定义集合 | Data Dictionary（DD） |

## 1.4参考资料

|     |     |     |     |     |
| --- | --- | --- | --- | --- |
| 资料名称 | 作者/来源 | 编号  | 发表日期 | 出版单位/资料来源 |
| 《课程管理系统项目开发计划》 | 课程管理系统项目组 | CMS-Plan-2025 | 2025年11月14日 | 项目组 |
| 《课程管理系统需求规格说明书》 | 课程管理系统项目组 | CMS-Requirement-2025 | 2025年11月21日 | 项目组 |
| 《软件工程基础实验》 | 软件学院 | SE-Guide-2025 | 2025年9月1日 | 软件学院 |
| 《MySQL 8.0官方技术文档》 | Oracle公司 | MySQL-8.0-Doc | 2024年3月 | Oracle公司 |
| 《Tomcat 9.0部署指南》 | Apache软件基金会 | Tomcat-9.0-Guide | 2023年10月 | Apache软件基金会 |
| 《RESTful API设计规范》 | 行业通用标准 | RESTful-API-Standard | 无   | 行业通用规范 |

# 2.任务概述

## 2.1目标

本软件系统需实现四大核心功能目标：

1.用户管理：支持学生、教师、管理员三类角色的登录、信息维护及权限控制，确保不同角色仅能访问对应权限范围内的功能。

2.课程信息管理：实现课程的新增、修改、删除、查询功能，支持管理员统筹配置课程信息，师生查询课程详情。

3.选课与退课管理：支持学生在规定时间内选课、退课，系统自动完成选课冲突检测、学分上限控制及课程容量校验，管理员处理特殊退课与补选申请。

4.成绩管理：支持教师手动录入或批量导入学生成绩，学生查询个人成绩并提交异议申请，管理员进行成绩归档与周期管理。

## 2.2运行环境（必填）

**2.2.1硬件平台**

•服务器：CPU≥Intel Core i7或同等性能处理器，内存≥8GB，硬盘≥500GB，支持千兆网络接口。

•客户端：普通个人电脑/平板，CPU≥Intel Core i3或同等性能，内存≥4GB，硬盘≥100GB，配备分辨率≥1366×768的显示器、键盘及鼠标，接入互联网。

**2.2.2操作系统和版本**

•服务器：Windows Server 2019及以上、Linux CentOS 7 及以上。

•客户端：Windows 10/11、macOS 12及以上、Linux Ubuntu 20.04及以上。

**2.2.3其他软件组件或共存应用程序**

•数据库：MySQL 8.0（开启远程访问权限，字符集设为UTF-8）。

•应用服务器：Tomcat 9.0（端口配置为8080，支持SSL加密）。

•客户端浏览器：Chrome 100.0及以上、Firefox 98.0及以上、Edge 100.0及以上、Safari 15.0及以上。

## 2.3开发环境（必填）

**2.3.1硬件平台**

•开发机：CPU≥Intel Core i5或同等性能处理器，内存≥16GB，硬盘≥500GB（SSD优先），接入互联网。

**2.3.2操作系统和版本**

•开发机操作系统：Windows 10/11、macOS 12及以上、Linux Ubuntu 20.04及以上。

**2.3.3开发工具**

•后端开发工具：IntelliJ IDEA 2023.2及以上。

•前端开发工具：VSCode 1.80.0及以上（安装Vue、Element UI等相关插件）。

•数据库工具：Navicat 16及以上、MySQL Workbench 8.0及以上。

•接口测试工具：Postman 10.0及以上。

•文档工具：Microsoft Word 2019及以上、Visio 2019及以上（绘制架构图、流程图）。

## 2.4需求概述

**2.4.1核心功能需求**

•用户管理：角色区分（学生/教师/管理员）、登录认证、信息维护、权限分配。

•课程管理：课程信息CRUD（Create, Read, Update, Delete）、课程查询与筛选、课程信息同步通知。

•选课退课：限时操作、冲突检测、学分控制、容量校验、特殊申请处理。

•成绩管理：成绩录入（手动/批量）、成绩修改、成绩查询、异议处理、成绩归档与统计。

**2.4.2界面要求**

•采用“左侧导航栏+右侧内容区”的经典布局，风格简洁、统一，符合高校管理系统使用习惯，主色调为蓝色系。

•核心功能入口在首页突出显示（图标+文字），操作路径简洁，避免复杂跳转。

•支持响应式设计，适配PC端与移动终端（平板、手机），界面元素自适应屏幕尺寸。

**2.4.3可扩展功能**

•预留“课程评价”模块接口，支持后续新增学生对授课教师的评价功能。

•预留“作业提交”模块扩展点，可后续支持学生上传作业、教师在线批改功能。

•支持自定义字段配置，管理员可按需新增用户或课程的扩展信息字段。

## 2.5限制描述

•暂未实现跨学期选课功能，当前系统仅支持学生选择本学期课程，后续需扩展跨学期课程信息同步与学分累计计算逻辑。

•暂不支持不同院系自定义成绩等级标准，当前采用固定分级规则（优秀90-100分等），后续需优化数据结构实现院系差异化配置。

•暂未支持离线操作功能，所有用户操作需在线完成，后续可考虑开发离线数据缓存与同步机制。

•系统与第三方系统（如学校统一身份认证系统）的对接仅预留标准接口，具体适配需结合学校现有系统实际情况进一步调试。

# 3.总体设计

## 3.1基本设计概念和处理流程

**3.1.1设计概念**

本系统采用“前后端分离”的设计架构，基于RESTful API规范实现数据交互，核心设计理念包括：

•模块化：按功能划分为独立模块，模块间低耦合、高内聚，便于开发与维护。

•分层设计：后端采用“控制层（Controller）-服务层（Service）-数据访问层（DAO）”三层架构，前端按“组件-页面-路由”分层设计。

•可扩展性：核心模块预留扩展接口，支持功能迭代与需求变更。

•安全性：贯穿身份认证、权限控制、数据加密、防攻击等安全设计要点。

**3.1.2核心处理流程**

**1.用户登录流程**：用户输入账号密码→前端校验格式→调用后端登录接口→后端验证身份与权限→生成Token并返回→前端存储Token→跳转对应角色首页。

**2.选课流程**：学生进入选课中心→查询目标课程→点击选课→前端提交选课请求→后端接收请求→依次校验选课时间、课程容量、选课冲突、学分上限→校验通过则写入选课记录→返回成功结果→前端更新选课状态。

**3.成绩录入流程**：教师选择课程→进入成绩录入页→手动输入或批量导入成绩→前端校验成绩格式→提交至后端→后端存储成绩数据→返回录入结果→教师确认提交→成绩进入锁定期。

**4.课程新增流程**：管理员进入课程管理页→填写课程信息→前端校验必填字段→提交至后端→后端验证课程号唯一性→写入课程表→返回成功结果→可选同步通知相关教师。

## 3.2系统总体功能结构（必填）

**3.2.1系统总体功能结构图**

**3.2.2模块关系说明**

•前端层按用户角色拆分，各端模块对应后端控制器，通过RESTful API实现数据交互。

•后端控制层接收前端请求，调用服务层实现业务逻辑，服务层通过DAO(Data Access Object)层操作数据库。

•公共组件层为各模块提供通用功能支持（如认证、校验），各业务模块无直接依赖，通过公共组件间接交互。

•数据层为系统提供数据存储支持，各数据表与DAO层一一对应，数据表间通过关联字段（如学号、课程号）建立关系。

## 3.3功能需求描述（必填）

**3.3.1用户管理模块**

**1.登录认证**：支持学生（学号）、教师（工号）、管理员（账号）登录。

**2.个人信息管理**：学生/教师可查看基础信息、修改联系方式与密码；管理员可新增、修改、删除用户信息，分配用户角色，批量操作用户数据。

**3.权限控制**：基于角色的权限控制（RBAC），学生仅访问本人数据，教师仅访问所授课程相关数据，管理员按功能角色分配权限，无超级权限账号。

**3.3.2课程管理模块**

**1.课程信息维护**：管理员可新增、修改、删除（或下架）课程，录入课程号、课程名、学分、上课时间等完整信息，修改关键信息可选择同步通知。

**2.课程查询与筛选**：师生可按课程名、类型、院系、教师等条件模糊查询，学生端支持按学分、上课时间排序，管理员端支持导出查询结果。

**3.课程信息查看**：教师查看所授课程详情及选课学生名单，学生查看课程完整信息（含容量、已选人数、简介等）。

**3.3.3选课与退课模块**

**1.选课功能**：学生在规定选课周期内选课，系统自动校验选课时间、课程容量、时间冲突、学分上限，返回明确的成功或失败提示。

**2.退课功能**：学生在常规退课周期内自由退课，退课后释放课程容量；逾期需提交特殊退课申请，由管理员审核。

**3.管理员特殊处理**：审核学生特殊退课/补选申请，支持批量退课（如课程取消时）、批量补选（如必修课程分配），生成操作结果名单。

**3.3.4成绩管理模块**

**1.成绩录入**：教师支持手动录入或批量导入成绩，系统校验成绩格式（0-100分，可保留1位小数），导入失败生成错误报告。

**2.成绩修改**：成绩提交前可自由修改，提交后锁定期内需申请修改并填写原因，锁定期外需联系管理员，所有修改记录日志。

**3.成绩查询**：学生按学期查询已录入成绩，支持筛选课程类型、导出个人成绩表；管理员多维度筛选成绩数据，支持批量导出。

**4.成绩统计**：教师查看课程平均分、及格率、分数段分布，生成统计图表。

**5.成绩归档**：管理员每学期执行成绩归档操作，归档后成绩不可修改，存储至历史数据库。

**3.3.5系统配置模块**

**1.基础参数配置**：管理员设置学分上限、选课/退课周期、成绩录入/修改周期等。

**2.日志管理**：查看用户操作日志、系统错误日志、性能日志，支持按条件筛选查询。

## 3.4界面设计（必填）

**3.4.1设计风格**

•整体风格：简洁、专业、易用，符合高校管理系统的正式定位，避免冗余装饰元素。

•色彩方案：主色调为蓝色（#1E88E5），辅助色为浅灰色（#F5F7FA）、绿色（#4CAF50，成功状态）、红色（#F44336，错误状态）、橙色（#FF9800，提醒状态），确保色彩协调且辨识度高。

•字体规范：正文采用微软雅黑/思源黑体，标题字号18-24px，正文字号14-16px，辅助文字12px，确保可读性。

**3.4.2通用界面布局**

•顶部区域：系统名称、用户头像/姓名、退出登录按钮、通知中心入口。

•左侧区域：导航栏，按模块分组显示功能菜单，支持折叠/展开，当前所在功能高亮显示。

•右侧内容区：功能操作区域，包含面包屑导航（显示当前位置）、操作按钮区、数据展示区（表格/表单/图表），支持分页、筛选、搜索功能。

•弹窗设计：操作确认、信息提示、表单录入等弹窗采用居中显示，层级清晰，按钮布局统一（确认在右，取消在左）。

**3.4.3各端核心界面示例**

**1.学生端首页**：顶部欢迎语+个人信息卡片（学号、姓名、院系），核心功能入口（选课中心、已选课程、成绩查询、个人中心），底部显示选课/退课周期提醒。

**2.教师端成绩录入页**：课程选择下拉框、成绩录入表格（学号、姓名、成绩输入框）、批量导入/导出按钮、提交按钮，表格支持分页与搜索。

**3.管理员端用户管理页**：用户筛选条件（角色、院系、关键词）、用户列表表格（账号、姓名、角色、院系、状态）、新增/修改/删除/批量操作按钮，支持分页。

# 4.接口设计

## 4.1外部接口

**4.1.1用户接口**

•接口类型：图形用户界面（GUI）。

•交互方式：通过鼠标点击、键盘输入、文件上传（如成绩导入）等方式操作，系统通过弹窗、文字提示、页面跳转反馈结果。

•接口规范：界面元素命名统一（如“确认选课”而非“提交”），操作路径一致（如修改功能均通过“编辑”按钮触发），错误提示具体易懂（非技术术语）。

**4.1.2软件接口**

**1.数据库接口**：系统与MySQL 8.0数据库通过JDBC连接，采用MyBatis框架实现数据访问，连接参数（URL、账号、密码）通过配置文件管理，字符集为UTF-8。

**2.应用服务器接口**：后端应用部署于Tomcat 9.0，通过HTTP/HTTPS协议接收前端请求，端口配置为8080，支持SSL加密传输。

**3.第三方系统接口**：与学校统一身份认证系统（CAS/LDAP）通过标准协议对接，接口为RESTful风格，采用Token验证；与学生信息管理系统、教学质量评估系统通过Excel/XML格式导入导出数据，接口支持定时同步与手动触发。

**4.1.3硬件接口**

•服务器硬件接口：支持千兆网络接口，通过TCP/IP协议实现网络通信；支持硬盘存储扩展，满足数据备份需求。

•客户端硬件接口：支持键盘、鼠标输入，显示器显示，文件上传（通过USB接口连接存储设备），网络接口（有线/无线）接入互联网。

## 4.2内部接口（必填）

内部接口采用RESTful API设计规范，统一请求方式、数据格式、响应格式，核心接口定义如下：

|     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- |
| 模块  | 接口名称 | 请求方式 | 请求参数 | 返回数据 | 功能描述 |
| 用户管理 | 用户登录接口 | POST | username（账号）、password（密码）、role（角色） | token（令牌）、userInfo（用户基本信息）、code（状态码）、msg（提示信息） | 验证用户身份，返回登录结果与用户信息 |
| 用户管理 | 用户信息修改接口 | PUT | token（令牌）、userData（修改后的用户信息，如手机号、邮箱） | code（状态码）、msg（提示信息） | 修改用户个人信息 |
| 用户管理 | 用户新增接口（管理员） | POST | token（令牌）、userData（完整用户信息，如学号、姓名、角色） | code（状态码）、msg（提示信息） | 管理员新增用户 |
| 课程管理 | 课程列表查询接口 | GET | token（令牌）、keyword（关键词）、courseType（课程类型）、dept（院系）、page（页码）、size（每页条数） | code（状态码）、data（课程列表，含分页信息）、msg（提示信息） | 查询课程列表，支持筛选与分页 |
| 课程管理 | 课程新增接口（管理员） | POST | token（令牌）、courseData（完整课程信息） | code（状态码）、msg（提示信息） | 管理员新增课程 |
| 选课退课 | 选课接口 | POST | token（令牌）、courseId（课程号） | code（状态码）、msg（提示信息，含失败原因） | 学生提交选课请求，返回处理结果 |
| 选课退课 | 退课接口 | DELETE | token（令牌）、courseId（课程号） | code（状态码）、msg（提示信息） | 学生提交退课请求，返回处理结果 |
| 成绩管理 | 成绩录入接口 | POST | token（令牌）、courseId（课程号）、scoreList（成绩列表，含学号、成绩） | code（状态码）、msg（提示信息）、failList（录入失败数据） | 教师提交成绩录入请求 |
| 成绩管理 | 成绩查询接口 | GET | token（令牌）、semester（学期）、courseType（课程类型） | code（状态码）、data（成绩列表）、msg（提示信息） | 学生查询个人成绩 |
| 系统配置 | 参数设置接口（管理员） | PUT | token（令牌）、paramData（参数键值对，如creditCeiling：25） | code（状态码）、msg（提示信息） | 管理员修改系统参数 |

**接口通用规范**

•请求头：统一包含Content-Type: application/json，Authorization: Bearer {token}（登录后接口）。

•状态码：200（成功）、400（请求参数错误）、401（未登录/Token失效）、403（无权限）、500（服务器错误）。

•数据格式：请求与返回数据均为JSON格式，字段命名采用小驼峰式。

•接口版本：接口URL包含版本号（如/api/v1/user/login），便于后续版本迭代。

# 5.数据结构设计

## 5.1逻辑结构设计

**5.1.1静态数据逻辑结构**

|     |     |     |     |     |
| --- | --- | --- | --- | --- |
| 数据名称 | 数据类型 | 长度  | 取值范围 | 说明  |
| 用户角色类型 | 枚举型 | 4   | 学生、教师、管理员 | 不可新增或修改 |
| 课程类型 | 枚举型 | 6   | 必修课、选修课、通识课 | 由管理员统一配置 |
| 成绩等级标准 | 字符型 | 20  | 优秀（90-100分）、良好（80-89分）等 | 固定分级规则 |
| 院系信息 | 字符型 | 20  | 如“软件学院”“计算机学院” | 存储院系名称及代码，不可随意修改 |
| 学分基准 | 数值型 | 1   | 1-5（整数） | 单门课程固定学分，管理员可修改 |
| 系统参数 | 键值对 | 键：20字符，值：50字符 | 如creditCeiling：25（学分上限） | 系统配置参数，管理员可修改 |

**5.1.2动态数据逻辑结构**

|     |     |     |     |
| --- | --- | --- | --- |
| 数据名称 | 核心字段 | 数据类型 | 说明  |
| 用户信息表（user） | userId（主键）、username（账号）、password（密码）、role（角色）、name（姓名）、dept（院系）、phone（手机号）、email（邮箱）、status（状态）、createTime（创建时间） | userId：字符型（10），username：字符型（10），password：字符型（32），其余按需定义 | 存储所有用户基础信息，密码SHA-256加密 |
| 课程信息表（course） | courseId（主键）、courseName（课程名）、credit（学分）、courseType（课程类型）、teacherId（授课教师ID）、classTime（上课时间）、classLocation（上课地点）、capacity（容量）、selectedNum（已选人数）、intro（简介）、createTime（创建时间）、updateTime（更新时间） | courseId：字符型（8），courseName：字符型（50），credit：数值型（1），其余按需定义 | 存储课程完整信息，courseId唯一 |
| 选课记录表（courseSelection） | selectionId（主键）、studentId（学号）、courseId（课程号）、selectionTime（选课时间）、status（状态：成功/失败）、failReason（失败原因） | selectionId：自增整型，studentId：字符型（10），courseId：字符型（8） | 记录学生选课操作及结果 |
| 成绩表（score） | scoreId（主键）、studentId（学号）、courseId（课程号）、score（成绩）、grade（成绩等级）、inputTeacherId（录入教师ID）、inputTime（录入时间）、updateTime（更新时间）、status（状态：未提交/已提交/已锁定） | scoreId：自增整型，studentId：字符型（10），courseId：字符型（8），score：数值型（3，保留1位小数） | 存储学生课程成绩及相关信息 |
| 操作日志表（operationLog） | logId（主键）、userId（操作人ID）、userName（操作人姓名）、operationType（操作类型）、operationContent（操作内容）、operationTime（操作时间）、ipAddress（IP地址）、result（操作结果） | logId：自增整型，其余按需定义 | 记录用户关键操作日志 |
| 特殊申请记录表（specialApplication） | applyId（主键）、studentId（学号）、courseId（课程号）、applyType（申请类型：特殊退课/补选）、applyReason（申请理由）、attachment（附件路径）、applyTime（申请时间）、auditStatus（审核状态）、auditOpinion（审核意见）、auditUserId（审核人ID）、auditTime（审核时间） | applyId：自增整型，其余按需定义 | 记录学生特殊退课/补选申请及审核结果 |

## 5.2数据结构与程序的关系

|     |     |     |
| --- | --- | --- |
| 数据结构（表） | 关联程序模块 | 使用说明 |
| 用户信息表（user） | 用户管理模块、所有需要身份认证的模块 | 用户登录、信息查询与修改、权限验证时调用 |
| 课程信息表（course） | 课程管理模块、选课退课模块、成绩管理模块 | 课程CRUD、选课筛选、成绩录入时关联课程信息 |
| 选课记录表（courseSelection） | 选课退课模块、课程管理模块 | 选课退课操作、查询选课记录、统计课程已选人数时调用 |
| 成绩表（score） | 成绩管理模块 | 成绩录入、修改、查询、统计、归档时调用 |
| 操作日志表（operationLog） | 所有模块 | 用户执行关键操作（如新增用户、修改成绩、选课）时自动写入 |
| 特殊申请记录表（specialApplication） | 选课退课模块 | 学生提交特殊申请、管理员审核时调用 |
| 静态数据（角色类型、课程类型等） | 用户管理模块、课程管理模块、成绩管理模块 | 作为下拉选择项、数据校验依据，在相关模块界面展示与逻辑判断时使用 |

# 6.运行设计

## 6.1运行模块的组合

**6.1.1常规运行组合**

•学生用户运行组合：登录模块→个人中心模块→课程查询模块→选课与退课模块/成绩查询模块，各模块按用户操作顺序依次调用，通过接口传递数据。

•教师用户运行组合：登录模块→个人中心模块→课程信息查看模块→成绩录入与管理模块→成绩统计模块，成绩录入后自动关联成绩统计模块。

•管理员用户运行组合：登录模块→用户管理模块/课程管理模块/选课管理模块/成绩管理模块/系统配置模块，各模块独立运行，可交叉调用（如课程管理模块调用用户管理模块的教师信息）。

**6.1.2特殊场景运行组合**

•选课高峰期运行组合：前端选课模块→后端选课退课控制器→选课退课服务→选课记录表DAO/课程信息表DAO/用户信息表DAO，同时调用冲突检测、学分计算等公共组件，优先保障选课请求处理效率。

•成绩批量导入运行组合：前端成绩录入模块→后端成绩管理控制器→成绩管理服务→文件解析组件→数据校验组件→成绩表DAO，批量处理时采用异步方式，避免阻塞其他操作。

•系统配置更新运行组合：前端系统配置模块→后端系统配置控制器→系统配置服务→系统参数表DAO，更新后同步至所有依赖该参数的模块（如选课模块的学分上限参数）。

## 6.2运行控制

**6.2.1控制流程**

**1.用户操作控制**：用户触发界面操作（如点击“选课”）→前端验证操作合法性（如是否在选课时间内）→合法则发送请求至后端→后端接收请求→验证用户Token与权限→权限通过则执行业务逻辑→返回结果至前端→前端更新界面状态。

**2.模块间调用控制**：主模块通过接口调用子模块或公共组件，调用时传递必要参数，子模块/组件执行完成后返回结果，主模块根据结果继续执行后续逻辑（如选课模块调用冲突检测组件，检测通过则继续执行选课逻辑，否则返回失败）。

**3.并发控制**：采用数据库事务与乐观锁机制，避免并发操作冲突（如多人同时选同一门课程时，通过课程表的selectedNum字段乐观锁确保数据一致性）；核心接口（如选课接口）添加限流控制，避免高并发导致系统过载。

**6.2.2运行方式及操作步骤**

**1.系统启动运行方式**：

步骤1：启动MySQL 8.0数据库服务，确保数据可正常访问。

步骤2：启动Tomcat 9.0应用服务器，部署后端应用程序。

步骤3：部署前端静态资源至Tomcat或Nginx服务器。

步骤4：访问系统URL，验证各模块是否正常加载，接口是否可正常调用。

**2.用户操作运行方式**：

学生选课操作步骤：打开浏览器→输入系统URL→登录→进入选课中心→筛选课程→点击“选课”→确认课程信息→提交→查看选课结果。

教师成绩导入操作步骤：登录系统→进入成绩管理→选择课程→点击“批量导入”→下载模板→填写成绩→上传文件→查看导入结果→确认提交。

管理员新增用户操作步骤：登录系统→进入用户管理→点击“新增”→填写用户信息→选择角色→提交→查看操作结果。

## 6.3运行时间

**6.3.1整体运行时间要求**

•系统正常运行时间≥99.5%（每月故障时间≤3.6小时），非不可抗力导致的故障每月≤2次。

•系统启动时间≤3分钟（服务器重启后，数据库与应用服务器初始化完成，可正常提供服务）。

**6.3.2单个模块运行时间要求**

|     |     |     |
| --- | --- | --- |
| 模块  | 操作类型 | 运行时间要求 |
| 登录模块 | 登录请求处理 | ≤1秒 |
| 课程查询模块 | 简单查询（单条件） | ≤2秒 |
| 课程查询模块 | 复杂查询（多条件+分页） | ≤3秒 |
| 选课退课模块 | 单条选课/退课请求处理 | ≤1秒 |
| 选课退课模块 | 选课冲突检测（多门已选课程） | ≤2秒 |
| 成绩管理模块 | 单条成绩录入 | ≤0.5秒 |
| 成绩管理模块 | 批量导入500条成绩 | ≤10秒 |
| 成绩管理模块 | 成绩统计（生成平均分、及格率、分数段图表） | ≤8秒 |
| 用户管理模块 | 新增/修改/删除用户 | ≤1秒 |
| 用户管理模块 | 批量导出1000条用户数据 | ≤15秒 |

**7.出错处理设计**

## 7.1出错输出信息

|     |     |     |     |
| --- | --- | --- | --- |
| 错误类型 | 错误描述 | 出错输出信息 | 处理方法 |
| 登录错误 | 账号不存在 | code：400，msg：“账号不存在，请检查输入” | 用户核对账号后重新输入 |
| 登录错误 | 密码错误（≤5次） | code：400，msg：“密码错误，您还有X次机会，忘记密码可点击找回” | 用户核对密码后重新输入，或通过找回密码功能重置 |
| 登录错误 | 账号锁定（密码错误≥5次） | code：400，msg：“账号已锁定，1小时后自动解锁” | 用户等待解锁或联系管理员 |
| 选课错误 | 不在选课时间内 | code：400，msg：“当前非选课时间段，选课开放时间为XX年XX月XX日-XX月XX日” | 用户在规定时间内重新操作 |
| 选课错误 | 课程名额已满 | code：400，msg：“课程名额已满：当前已选XX人/总容量XX人，无法选课” | 用户选择其他课程或等待补选机会 |
| 选课错误 | 选课冲突 | code：400，msg：“选课冲突：您已选《XX课程》（周X X-X节），与当前课程时间重叠，无法选课” | 用户取消已选冲突课程或选择其他课程 |
| 选课错误 | 学分超出上限 | code：400，msg：“学分超出上限：当前已选XX分，待选课程XX分，剩余可选XX分，无法选课” | 用户删除部分已选课程后重新选课 |
| 成绩录入错误 | 成绩格式错误 | code：400，msg：“成绩格式错误，需为0-100分的数字（可保留1位小数）” | 教师修正成绩格式后重新录入 |
| 成绩录入错误 | 批量导入模板错误 | code：400，msg：“导入失败：模板列顺序错误，请下载标准模板填写” | 教师下载标准模板，修正数据后重新导入 |
| 权限错误 | 越权操作 | code：403，msg：“无操作权限，请联系管理员” | 用户停止越权操作，如需相关功能联系管理员分配权限 |
| 服务器错误 | 未知异常 | code：500，msg：“服务器暂时无法处理请求，请稍后重试，或联系管理员（电话：XXX-XXXXXXX）” | 开发人员通过日志排查故障，用户稍后重试 |

## 7.2出错补救措施

**7.2.1数据输入错误补救**

•前端实时校验输入数据格式（如账号长度、成绩范围），错误时即时提示，保留已输入数据，不清空表单。

•后端接收数据后再次校验，校验失败返回具体错误信息，前端展示给用户，用户修正后可重新提交。

**7.2.2网络中断补救**

•数据提交过程中网络中断，前端存储未提交数据至本地缓存，网络恢复后提示用户“是否重试”，点击重试可直接提交，无需重新输入。

•部分提交成功场景（如批量导入成绩），网络恢复后提示“部分数据已成功，剩余数据需重新处理”，并展示失败数据列表，方便用户针对性修正。

**7.2.3数据库故障补救**

•数据库服务临时中断时，系统自动切换至备用数据库（数据延迟≤5分钟），并向用户提示“系统暂时无法连接，请5分钟后重试”。

•数据库恢复后，系统自动同步备用数据库与主数据库数据，确保数据一致性，同步完成后恢复正常服务。

**7.2.4系统崩溃补救**

•系统崩溃后，自动记录崩溃前的运行状态与错误日志，便于开发人员定位原因。

•支持快速重启恢复，重启后通过数据备份恢复核心数据，确保用户已提交的数据不丢失，未完成的操作可重新发起。

## 7.3系统恢复设计

•数据恢复：核心数据（用户信息、选课数据、成绩数据）每日23:00自动全量备份，保留30天备份记录；支持手动触发备份（如重大操作前），备份文件存储在异地服务器。恢复时可选择指定时间点的备份文件，通过备份恢复工具快速导入数据库，恢复成功率≥99.9%。

•系统恢复流程：系统故障后，先通过日志定位故障原因→修复故障（如代码bug、配置错误）→验证修复结果→从最新备份恢复数据（若数据受损）→重启系统→进行功能测试→确认正常后对外开放服务，平均恢复时间≤1小时。

**8.安全保密设计**

•身份认证安全：采用“账号+密码+角色”三重认证，管理员额外增加IP地址限制（仅允许学校内网指定IP段登录）与图形验证码；连续5次密码错误锁定账号1小时；用户密码采用SHA-256加密存储，不存储明文，新用户首次登录强制修改初始密码。

•权限控制安全：严格遵循最小权限原则，基于RBAC模型分配权限，学生仅能访问本人数据，教师仅能操作所授课程相关数据，管理员按功能角色拆分权限，无超级权限账号；关键操作（如批量删除用户、修改成绩）需二次确认。

•数据传输安全：核心数据（密码、成绩、隐私信息）传输采用HTTPS协议（TLS 1.2及以上），防止数据被窃听或篡改；接口调用采用Token验证，Token有效期设为2小时，过期后需重新登录。

•数据存储安全：数据库账号密码加密存储在配置文件中，禁止远程直接访问数据库（仅允许应用服务器本地访问）；敏感数据（如手机号、邮箱）存储时脱敏处理（如手机号显示“138\*\*\*\*1234”）；数据库表设置访问权限，仅授权账号可读写。

•防攻击安全：系统具备防SQL注入（输入参数过滤特殊字符）、防XSS跨站脚本（前端过滤HTML标签、后端校验输入内容）、防CSRF跨站请求伪造（关键操作添加Token验证）能力；服务器配置防火墙，屏蔽非必要端口（仅开放80、443、3306端口）。

•日志安全：所有关键操作（登录、选课、成绩修改、权限变更）均记录日志，包含操作人、操作时间、操作内容、IP地址、操作结果，日志保留6个月，设置只读权限，不可删除或篡改，便于安全审计与故障追溯。

**9.维护设计**

•模块化与分层设计：系统采用前后端分离架构，模块间低耦合、高内聚，后端按“控制层-服务层-数据访问层”分层，前端按组件化拆分，修改单个模块不影响其他功能，便于局部维护与迭代。

•代码规范与注释：后端代码遵循Java开发规范，前端代码遵循Vue开发规范，关键逻辑（如冲突检测、成绩计算）添加详细注释（说明功能、输入输出、异常处理）；代码提交前通过ESLint、CheckStyle校验，确保代码风格统一，降低维护难度。

•文档支持：提供完整的维护文档，包括《系统部署指南》（服务器配置、环境搭建、部署步骤）、《数据库设计文档》（表结构、字段含义、索引设计、关联关系）、《常见问题排查手册》（如选课失败、成绩无法导入的排查流程）、《接口文档》（所有API的参数、响应、示例），文档与代码同步更新。

•日志与监控：系统日志分错误日志、操作日志、性能日志，支持按时间范围、模块、日志级别筛选查询，错误日志包含错误堆栈信息，便于快速定位故障；支持监控服务器CPU、内存、硬盘使用率及接口响应时间，超过阈值时自动告警。

•可维护性接口：提供维护专用接口（如批量修复数据、清除缓存），仅在维护环境开放，生产环境屏蔽；支持通过配置文件修改系统参数（如学分上限、Token有效期），无需修改代码重启系统。